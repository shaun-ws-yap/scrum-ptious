(this["webpackJsonpscrum-ptious"]=this["webpackJsonpscrum-ptious"]||[]).push([[0],{174:function(e,t,s){},175:function(e,t,s){},279:function(e,t,s){},342:function(e,t,s){},343:function(e,t,s){},365:function(e,t,s){},366:function(e,t,s){},367:function(e,t,s){},369:function(e,t,s){},370:function(e,t,s){},400:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s(0),n=s(15),i=s.n(n),c=(s(174),s(3)),o=s(8),d=(s(175),s(176),s(177),s(178),s(179),s(180),s(19)),l=s(35),u=s(21);function b(e,t){var s,a=0,r=Object(u.a)(t);try{for(r.s();!(s=r.n()).done;){s.value.status===e&&(a+=1)}}catch(n){r.e(n)}finally{r.f()}return a}function j(e){var t,s=0,a=Object(u.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;!0===r.is_late&&3!==r.status&&(s+=1)}}catch(n){a.e(n)}finally{a.f()}return s}function m(e){var t=b(0,e.teamTasks),s=b(1,e.teamTasks),r=b(2,e.teamTasks),n=b(3,e.teamTasks),i=j(e.teamTasks);return Object(a.jsx)("div",{className:"project-progress",children:Object(a.jsx)(l.Doughnut,{data:{labels:["Assigned","In-progress","In-review","Late","Complete"],datasets:[{label:"# of tasks",data:[t,s,r,i,n],backgroundColor:["rgba(61, 173, 209, 0.65)","rgba(92, 92, 183, 0.65)","rgba(255, 181, 75, 0.65)","rgba(212, 0, 17, 0.65)","rgba(148, 203, 179, 0.65)"],borderColor:["rgba(61, 173, 209, 1)","rgba(92, 92, 183, 1)","rgba(255, 181, 75, 1)","rgba(212, 0, 17, 1)","rgba(148, 203, 179, 1)"],hoverBackgroundColor:["rgba(61, 173, 209, 0.85)","rgba(92, 92, 183, 0.85)","rgba(255, 181, 75, 0.85)","rgba(212, 0, 17, 0.85)","rgba(148, 203, 179, 0.85)"],borderWidth:1,hoverBorderWidth:2}]},height:400,width:600,options:{maintainAspectRatio:!1,title:{display:!0,text:"Project Progress",fontSize:30,fontFamily:"Poppins"},legend:{display:!0,position:"bottom"}}})})}function O(e,t){for(var s=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["assigned","inprogress","inreview","completed"],r={},n=2;n>=0;n--){var i=new Date;i.setMonth(i.getMonth()-n),r[s[i.getMonth()]]={assigned:0,inprogress:0,inreview:0,completed:0,late:0}}var c,o=Object(u.a)(e);try{for(o.s();!(c=o.n()).done;){var d=c.value,l=s[new Date(d.due_date).getMonth()];for(var b in r)b===l&&d.employee_id===t&&(r[b][a[d.status]]+=1,d.is_late&&r[b].late++)}}catch(j){o.e(j)}finally{o.f()}return r}function g(e){for(var t=b(0,e.independentTasks),s=b(1,e.independentTasks),r=b(2,e.independentTasks),n=b(3,e.independentTasks),i=j(e.independentTasks),c=O(e.independentTasks,e.userInfo.id),o=Object.keys(c),d=[],u=0;u<3;u++){var m=c[o[u]];if(m){var g={label:o[u],data:[m.assigned,m.inprogress,m.inreview,m.late,m.complete]};0===u&&(g.backgroundColor="rgba(151, 229, 215, 0.3)",g.borderColor="rgba(151, 229, 215, 1)",g.hoverBackgroundColor="rgba(151, 229, 215, 1)",g.borderCapStyle="butt",g.pointBackgroundColor="white",g.pointBorderColor="rgba(151, 229, 215, 1)",g.pointBorderWidth="2px",g.pointHoverBackgroundColor="rgba(151, 229, 215, 1)",g.hoverPointBorderWidth="4px",g.spanGaps=!0,g.fill=!1),1===u&&(g.backgroundColor="rgba(252, 241, 221, 0.3)",g.borderColor="rgba(252, 241, 221, 1)",g.hoverBackgroundColor="rgba(252, 241, 221, 1)",g.borderCapStyle="butt",g.pointBackgroundColor="white",g.pointBorderColor="rgba(252, 241, 221, 1)",g.pointBorderWidth="2px",g.pointHoverBackgroundColor="rgba(252, 241, 221, 1)",g.hoverPointBorderWidth="4px",g.spanGaps=!0,g.fill=!1),2===u&&(g.backgroundColor="rgba(254, 183, 179, 0.3)",g.borderColor="rgba(254, 183, 179, 1)",g.hoverBackgroundColor="rgba(254, 183, 179, 1)",g.borderCapStyle="butt",g.pointBackgroundColor="white",g.pointBorderColor="rgba(254, 183, 179, 1)",g.pointBorderWidth="2px",g.pointHoverBackgroundColor="rgba(254, 183, 179, 1)",g.hoverPointBorderWidth="4px",g.spanGaps=!0,g.fill=!1),d.push(g)}}return Object(a.jsx)("div",{className:"employee-chart",children:Object(a.jsxs)("div",{className:"independent-progress",children:[Object(a.jsx)("div",{className:"bar-chart",children:Object(a.jsx)(l.Bar,{data:{labels:["Assigned","In-progress","In-review","Late","Complete"],datasets:[{label:"# of tasks",data:[t,s,r,i,n],backgroundColor:["rgba(61, 173, 209, 0.2)","rgba(92, 92, 183, 0.2)","rgba(255, 181, 75, 0.2)","rgba(212, 0, 17, 0.2)","rgba(148, 203, 179, 0.2)"],borderColor:["rgba(61, 173, 209, 1)","rgba(92, 92, 183, 1)","rgba(255, 181, 75, 1)","rgba(212, 0, 17, 1)","rgba(148, 203, 179, 1)"],hoverBackgroundColor:["rgba(61, 173, 209, 0.5)","rgba(92, 92, 183, 0.5)","rgba(255, 181, 75, 0.5)","rgba(212, 0, 17, 0.5)","rgba(148, 203, 179, 0.5)"],borderWidth:1,hoverBorderWidth:2}]},height:400,width:600,options:{maintainAspectRatio:!1,title:{display:!0,text:"Your Current Progress",fontSize:25,fontFamily:"Poppins"},legend:{display:!0,position:"right"},scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{color:"rgba(0, 0, 0, 0)"}}],xAxes:[{gridLines:{color:"rgba(0, 0, 0, 0)"}}]}}})}),Object(a.jsx)("div",{className:"line-chart",children:Object(a.jsx)(l.Line,{data:{labels:["Assigned","In-progress","In-review","Late","Complete"],datasets:d},height:400,width:600,options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"Your Past 3 Months",fontSize:25,fontFamily:"Poppins"},legend:{display:!0,position:"right"},scales:{angleLines:{display:!1},yAxes:[{ticks:{beginAtZero:!0},gridLines:{color:"rgba(0, 0, 0, 0)"}}],xAxes:[{gridLines:{color:"rgba(0, 0, 0, 0)"}}]}}})})]})})}var f=s(57);function h(e){for(var t=O(e.teamTasks,e.id),s=Object.keys(t),r=[],n=0;n<3;n++){var i=t[s[n]];if(i){var c={label:s[n],data:[i.assigned,i.inprogress,i.inreview,i.late,i.complete]};0===n&&(c.backgroundColor="rgba(212, 99, 78, 0.3)",c.borderColor="rgba(212, 99, 78, 1)",c.hoverBackgroundColor="rgba(212, 99, 78, 1)",c.borderCapStyle="butt",c.pointBackgroundColor="white",c.pointBorderColor="rgba(212, 99, 78, 1)",c.pointBorderWidth="2px",c.pointHoverBackgroundColor="rgba(212, 99, 78, 1)",c.hoverPointBorderWidth="2px",c.spanGaps=!0,c.borderWidth="4px"),1===n&&(c.backgroundColor="rgba(255, 132, 191, 0.3)",c.borderColor="rgba(255, 132, 191, 1)",c.hoverBackgroundColor="rgba(255, 132, 191, 1)",c.borderCapStyle="butt",c.pointBackgroundColor="white",c.pointBorderColor="rgba(255, 132, 191, 1)",c.pointBorderWidth="2px",c.pointHoverBackgroundColor="rgba(255, 132, 191, 1)",c.hoverPointBorderWidth="2px",c.spanGaps=!0,c.borderWidth="4px"),2===n&&(c.backgroundColor="rgba(22, 53, 83, 0.3)",c.borderColor="rgba(22, 53, 83, 1)",c.hoverBackgroundColor="rgba(22, 53, 83, 1)",c.borderCapStyle="butt",c.pointBackgroundColor="white",c.pointBorderColor="rgba(22, 53, 83, 1)",c.pointBorderWidth="2px",c.pointHoverBackgroundColor="rgba(22, 53, 83, 1)",c.hoverPointBorderWidth="4px",c.spanGaps=!0,c.borderWidth="4px"),r.push(c)}}return Object(a.jsxs)("div",{className:"employee-progress",children:[Object(a.jsx)("div",{className:"pie-chart",children:Object(a.jsx)(l.Doughnut,{data:{labels:["Assigned","In-progress","In-review","Late","Complete"],datasets:[{label:"# of tasks",data:[e.assigned,e.inProgress,e.inReview,e.late,e.complete],backgroundColor:["rgba(61, 173, 209, 0.65)","rgba(92, 92, 183, 0.65)","rgba(255, 181, 75, 0.65)","rgba(212, 0, 17, 0.65)","rgba(148, 203, 179, 0.65)"],borderColor:["rgba(61, 173, 209, 1)","rgba(92, 92, 183, 1)","rgba(255, 181, 75, 1)","rgba(212, 0, 17, 1)","rgba(148, 203, 179, 1)"],hoverBackgroundColor:["rgba(61, 173, 209, 0.85)","rgba(92, 92, 183, 0.85)","rgba(255, 181, 75, 0.85)","rgba(212, 0, 17, 0.85)","rgba(148, 203, 179, 0.85)"],borderWidth:1,hoverBorderWidth:2}]},height:400,width:600,options:{responsive:!0,maintainAspectRatio:!1,title:{display:!1,text:e.name,fontSize:25,fontFamily:"Poppins"},legend:{display:!0,position:"left"}}})}),Object(a.jsx)("div",{className:"radar-chart",children:Object(a.jsx)(l.Radar,{data:{labels:["Assigned","In-progress","In-review","Late","Complete"],datasets:r},height:400,width:600,options:{responsive:!0,maintainAspectRatio:!1,title:{display:!1,text:e.name,fontSize:25,fontFamily:"Poppins"},legend:{display:!0,position:"right"},scale:{angleLines:{display:!1},ticks:{beginAtZero:!0}}}})})]})}function p(e){var t=Object(r.useState)(0),s=Object(o.a)(t,2),n=s[0],i=s[1],c=e.teamUsers.filter((function(e){return 1!==e.role})).map((function(t){var s=function(e,t,s){var a,r={assigned:0,inProgress:0,inReview:0,late:0,complete:0},n=Object(u.a)(e);try{for(n.s();!(a=n.n()).done;){var i=a.value;i.projecttask_id===t&&i.employee_id===s&&(0===i.status?r.assigned+=1:1===i.status?r.inProgress+=1:2===i.status?r.inReview+=1:3===i.status&&(r.complete+=1),!0===i.is_late&&3!==i.status&&(r.late+=1))}}catch(c){n.e(c)}finally{n.f()}return r}(e.teamTasks,t.team_id,t.id);return Object(a.jsx)(f.c,{children:Object(a.jsx)(h,{teamTasks:e.teamTasks,id:t.id,name:t.name,assigned:s.assigned,inProgress:s.inProgress,inReview:s.inReview,late:s.late,complete:s.complete},t.id)},t.id)}));return Object(a.jsxs)(f.d,{defaultIndex:0,onSelect:function(e){return i(n)},className:"employee-chart",children:[Object(a.jsx)(f.b,{children:e.teamUsers.filter((function(e){return 1!==e.role})).map((function(e){return Object(a.jsx)(f.a,{children:e.name},e.id)}))}),c]})}s(279);function x(e){var t=e.tasks,s=e.teamTasks,r=e.teamUsers,n=e.role,i=e.userInfo;return Object(a.jsxs)("div",{className:"dashboard",children:[Object(a.jsx)("div",{className:"dashboard-top",children:Object(a.jsx)(m,{teamTasks:s})}),Object(a.jsxs)("div",{className:"dashboard-bottom",children:[1===n&&Object(a.jsx)(p,{independentTasks:t,teamTasks:s,teamUsers:r}),2===n&&Object(a.jsx)(g,{independentTasks:t,userInfo:i})]})]})}function v(e,t){return e.find((function(e){return e.id===t})).name}var k=s(9),N=s.n(k),y=s(14),T=s.n(y),I=(s(65),s(406)),_=s(407),w=s(70),C=s.n(w);function M(e){switch(e){case 0:return{status:"Assigned",type:"info"};case 1:return{status:"In Progress",type:"primary"};case 2:return{status:"In Review",type:"warning"};case 3:return{status:"Completed",type:"success"}}}function S(e){var t=e.teamUsers,s=e.taskItem,n=e.show,i=e.handleClose,l=e.editTaskItem,u=e.deleteTaskItem,b=s.employee_id,j=s.title,m=s.description,O=s.due_date,g=s.status,f=s.is_late,h=Object(r.useState)(!1),p=Object(o.a)(h,2),x=p[0],v=p[1],k=Object(r.useState)(s),N=Object(o.a)(k,2),y=N[0],w=N[1],S=M(g);var U=t.filter((function(e){return e.id!==b&&1!==e.role})),E=function(e){return t.find((function(t){return t.id===e})).name};function D(){if(""!==y.title){if(""===y.description)return d.NotificationManager.warning("Description must be valid","Error"),void document.getElementById("edit-task-description").focus();if(""===y.employee_id)return d.NotificationManager.warning("Employee assigned must be valid","Error"),void document.getElementById("edit-task-assign").focus();if(y.due_date<new Date)return d.NotificationManager.warning("Due date cannot be in the past","Error"),void document.getElementById("edit-task-date").focus();l(y),v(!1),i()}else d.NotificationManager.warning("Title must be valid","Error")}return Object(a.jsxs)(I.a,{show:n,onHide:i,children:[Object(a.jsx)(I.a.Header,{closeButton:!0,children:Object(a.jsx)(I.a.Title,{children:x?y.title:j})}),Object(a.jsxs)(I.a.Body,{children:[!x&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:m}),Object(a.jsxs)("p",{children:["Assigned to: ",E(b)]}),Object(a.jsx)("label",{children:"Due on: "}),Object(a.jsx)(T.a,{name:"viewMode-due_date",local:!0,format:"Do MMM YYYY h:mm A",children:O})]}),x&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("label",{children:"Title: "}),Object(a.jsx)("input",{autofocus:!0,className:"form-control edit-task-title",value:y.title,onChange:function(e){return w((function(t){return Object(c.a)(Object(c.a)({},t),{},{title:e.target.value})}))}}),Object(a.jsx)("label",{children:"Description: "}),Object(a.jsx)("textarea",{id:"edit-task-description",value:y.description,onChange:function(e){return w((function(t){return Object(c.a)(Object(c.a)({},t),{},{description:e.target.value})}))},type:"text",className:"form-control",name:"newDescription"}),Object(a.jsx)("label",{children:"Re-assign to:"}),Object(a.jsxs)("select",{id:"edit-task-assign",name:"assigned",className:"form-control",onChange:function(e){return w((function(t){return Object(c.a)(Object(c.a)({},t),{},{employee_id:e.target.value})}))},children:[Object(a.jsx)("option",{selected:!0,value:b,children:E(b)}),U.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name})}))]}),Object(a.jsx)("label",{children:"Due date:"}),Object(a.jsx)(C.a,{id:"edit-task-date",className:"form-control",locale:"en-US",selected:new Date(y.due_date),showTimeInput:!0,onChange:function(e){return function(e){var t=new Date(e).toISOString();w((function(e){return Object(c.a)(Object(c.a)({},e),{},{due_date:t})}))}(e)},dateFormat:"MMMM d, yyyy h:mm aa"})]})]}),Object(a.jsxs)(I.a.Footer,{children:[3!==g&&Object(a.jsx)(_.a,{onClick:function(){v(!x)},variant:"warning",children:x?Object(a.jsx)(a.Fragment,{children:"Cancel"}):Object(a.jsx)(a.Fragment,{children:"Edit"})}),3!==g&&Object(a.jsx)(_.a,{variant:"danger",onClick:function(){return u(s),void i()},children:"Delete"}),x&&Object(a.jsx)(_.a,{confirm:!0,variant:"success",onClick:function(){return D()},children:"Save"}),!x&&3===g&&Object(a.jsx)("span",{className:"badge badge-".concat(S.type),children:S.status}),3===g&&f&&Object(a.jsx)("span",{className:"badge badge-danger",children:"Late"})]})]})}var U=s(39);function E(e){var t=function(e,t){var s=Object(U.a)(t);return s.reverse().filter((function(t){return t.task_id===e&&"pending"!==t.status}))}(e.taskId,e.feedbacks).map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:e.feedback_string}),Object(a.jsx)("label",{children:"Submitted on: "}),Object(a.jsx)(T.a,{name:"viewMode-due_date",local:!0,format:"Do MMM YYYY h:mm A",children:e.submission_date}),Object(a.jsx)("p",{children:e.status})]},e.id)}));return Object(a.jsx)("div",{children:t})}function D(e){var t=e.show,s=e.handleClose,r=e.taskItem,n=e.teamUsers,i=e.submissions,c=e.submitTaskItem,o=r.id,l=r.employee_id,u=r.title,b=r.description,j=r.due_date,m=r.status,O=r.is_late,g=M(m);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(I.a,{show:t,onHide:s,children:[Object(a.jsx)(I.a.Header,{closeButton:!0,children:Object(a.jsx)(I.a.Title,{children:u})}),Object(a.jsx)(I.a.Body,{children:b}),Object(a.jsxs)(I.a.Body,{children:[Object(a.jsxs)("p",{children:["Assigned to: ",v(n,l)]}),Object(a.jsx)("label",{children:"Due on: "}),Object(a.jsx)(T.a,{name:"viewMode-due_date",local:!0,format:"Do MMM YYYY h:mm A",children:j}),Object(a.jsx)(E,{taskId:o,feedbacks:i})]}),Object(a.jsxs)(I.a.Footer,{children:[Object(a.jsx)("span",{className:"badge badge-".concat(g.type),children:g.status}),O&&Object(a.jsx)("span",{className:"badge badge-danger",children:"LATE"}),1===m&&Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return d.NotificationManager.success("Task sent for review","Submitted"),s(),void c(r)},children:"Submit"})]})]})})}function B(e){var t=e.role,s=e.taskItem,n=e.submissions,i=e.editTaskItem,c=e.deleteTaskItem,d=e.submitTaskItem,l=e.teamUsers,u=e.error,b=e.setError,j=s.title,m=s.description,O=s.due_date,g=s.creation_date,f=s.status,h=s.is_late,p=s.employee_id,x=Object(r.useState)(!1),k=Object(o.a)(x,2),y=k[0],I=k[1],_=N()("task__item",{"task__item--assigned":!h&&0===f,"task__item--in-progress":!h&&1===f,"task__item--in-review":!h&&2===f,"task__item--in-review-late":h&&2===f,"task__item--late":h&&2!==f&&3!==f,"task__item--complete":3===f}),w=function(){return I(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:_,onClick:function(e){return I(!0)},children:[Object(a.jsx)("h5",{className:"task-item-title",children:j}),Object(a.jsx)("p",{className:"task-item-name'",children:v(l,p)}),Object(a.jsx)("p",{className:"task-item-description",children:m}),Object(a.jsxs)("div",{className:"task-item-dates",children:[Object(a.jsxs)("div",{className:"card-date",children:[Object(a.jsx)("label",{children:"On: "}),Object(a.jsx)(T.a,{name:"creation_date",format:"Do MMM YYYY h:mm A",children:g})]}),Object(a.jsxs)("div",{className:"tas-item-card-date",children:[Object(a.jsx)("label",{children:"Due:"}),Object(a.jsx)(T.a,{name:"due_date",format:"Do MMM YYYY h:mm A",children:O})]})]}),Object(a.jsx)("div",{className:"task-item-badge-container",children:Object(a.jsxs)("div",{className:"task-item-badge",children:[0===f&&Object(a.jsx)("i",{className:"fas fa-people-arrows"}),1===f&&Object(a.jsx)("i",{className:"fas fa-spinner"})]})})]}),Object(a.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"form-group",children:[1===t&&Object(a.jsx)(S,{teamUsers:l,taskItem:s,show:y,handleClose:w,editTaskItem:i,deleteTaskItem:c,error:u,setError:b}),2===t&&Object(a.jsx)(D,{show:y,taskItem:s,teamUsers:l,submissions:n,handleClose:w,submitTaskItem:d})]})]})}var Y=s(46);function A(e){var t=e.role,s=e.tasks,n=e.submissions,i=e.editTaskItem,d=e.deleteTaskItem,l=e.submitTaskItem,b=e.teamUsers,j=e.error,m=e.setErrorNotification,O=e.moveTask,g=Object(r.useState)({}),f=Object(o.a)(g,2),h=f[0],p=f[1],x=Object(r.useState)(!1),v=Object(o.a)(x,2),k=v[0],N=v[1];Object(r.useEffect)((function(){var e=function(e){var t,s={assigned:[],inProgress:[],completed:[]},a=Object(u.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;switch(r.status){case 1:case 2:s.inProgress.push(r);break;case 3:s.completed.push(r);break;default:s.assigned.push(r)}}}catch(n){a.e(n)}finally{a.f()}return s}(s);p(e)}),[s]);var y={};for(var T in h)y[T]=h[T].map((function(e,s){var r=3===e.status||2===e.status;return 3!==e.status?Object(a.jsx)(Y.b,{draggableId:""+e.id,index:s,isDragDisabled:r,children:function(s,r){return Object(a.jsx)("div",Object(c.a)(Object(c.a)(Object(c.a)({},s.draggableProps),s.dragHandleProps),{},{ref:s.innerRef,children:Object(a.jsx)(B,{taskItem:e,role:t,submissions:n,editTaskItem:i,deleteTaskItem:d,submitTaskItem:l,teamUsers:b,error:j,setErrorNotification:m},e.id)}),e.id)}},e.id):Object(a.jsx)(B,{taskItem:e,role:t,submissions:n,editTaskItem:i,deleteTaskItem:d,submitTaskItem:l,teamUsers:b,error:j,setErrorNotification:m},e.id)}));var I=y.assigned,_=y.inProgress,w=y.completed;return Object(a.jsxs)("div",{className:"task-progress",children:[Object(a.jsxs)(Y.a,{onDragEnd:function(e){N(!1);var a=e.destination,r=e.source,n=e.draggableId,i=function(e,t){return e.find((function(e){return e.id===t}))}(s,Number(n));a&&(1!==t&&"assigned"===r.droppableId&&"inProgress"===a.droppableId&&O(i,1),1!==t&&"inProgress"===r.droppableId&&"assigned"===a.droppableId&&O(i,0),1===t&&"trash"===a.droppableId&&d(i))},onBeforeCapture:function(){N(!0)},children:[Object(a.jsxs)("div",{className:"task-progress-container-assigned",children:[Object(a.jsx)("h1",{children:"Assigned"}),Object(a.jsx)(Y.c,{droppableId:"assigned",children:function(e,t){return Object(a.jsxs)("div",Object(c.a)(Object(c.a)({className:"task-column task-assigned",index:"1",ref:e.innerRef,style:{backgroundColor:t.isDraggingOver?"rgba(61, 173, 209, 0.5)":"rgba(61, 173, 209, 0.25)"}},e.droppableProps),{},{children:[I,e.placeholder]}),"assigned")}},"assigned")]},"assigned"),Object(a.jsxs)("div",{className:"task-progress-container-inprogress",children:[Object(a.jsx)("h1",{children:"In-Progress"}),Object(a.jsx)(Y.c,{droppableId:"inProgress",children:function(e,t){return Object(a.jsxs)("div",Object(c.a)(Object(c.a)(Object(c.a)({className:"task-column task-inprogress",index:"2",ref:e.innerRef},e.droppableProps),{},{style:{backgroundColor:t.isDraggingOver?"rgba(92, 92, 183, 0.5)":"rgba(92, 92, 183, 0.25)"}},e.droppableProps),{},{children:[_,e.placeholder]}),"inProgress")}},"inProgress")]},"inProgress"),1===t&&Object(a.jsx)("div",{className:k?"trash--visible":"trash--hidden",children:Object(a.jsx)(Y.c,{droppableId:"trash",children:function(e,t){return Object(a.jsxs)("div",Object(c.a)(Object(c.a)({index:"3",ref:e.innerRef},e.droppableProps),{},{children:[Object(a.jsx)("span",{className:"trash-icon",children:Object(a.jsx)("i",{className:"far fa-trash-alt fa-3x"})}),e.placeholder]}),"trash")}},"trash")},"trash")]}),Object(a.jsxs)("div",{className:"task-progress-container-completed",children:[Object(a.jsx)("h1",{children:"Completed"}),Object(a.jsx)("div",{className:"task-column task-completed",children:w})]})]})}function P(e){var t=e.member,s=e.selectTasksByUser,r=t.role,n=t.name,i=t.avatar;return Object(a.jsxs)("div",{className:"my-team-item",onClick:function(){return s(t)},children:[Object(a.jsx)("img",{src:i,alt:"User Avatar",className:"my-team-item-avatar"}),Object(a.jsx)("div",{className:"my-team-item-right",children:Object(a.jsx)("div",{className:"my-team-item-name",children:1===r?"Show All":n})})]})}s(342);function F(e){var t=e.selectTasksByUser,s=e.teamUsers.map((function(e){return Object(a.jsx)(P,{member:e,selectTasksByUser:t},e.id)}));return Object(a.jsx)("div",{className:"team-list",children:s})}function L(e,t){return t.filter((function(t){return t.employee_id===Number(e)}))}s(343);function R(e){var t=e.role,s=e.tasks,n=e.teamUsers,i=e.submissions,c=e.editTaskItem,d=e.deleteTaskItem,l=e.submitTaskItem,u=e.error,b=e.setErrorNotification,j=e.moveTask,m=e.setTasks,O=Object(r.useState)(s),g=Object(o.a)(O,2),f=g[0],h=g[1];Object(r.useEffect)((function(){h(s)}),[s]);return Object(a.jsxs)("div",{className:"dashboard",children:[Object(a.jsx)("div",{className:"task-dashboard-top",children:Object(a.jsx)(A,{role:t,tasks:f,teamUsers:n,submissions:i,deleteTaskItem:d,editTaskItem:c,submitTaskItem:l,error:u,setErrorNotification:b,moveTask:j,setTasks:m})}),1===t&&Object(a.jsx)("div",{className:"task-dashboard-bottom",children:Object(a.jsx)("div",{className:"team-list-container",id:"team-list-filter",children:Object(a.jsx)(F,{teamUsers:n,selectTasksByUser:function(e){if(1!==e.role){var t=L(e.id,s);h(t)}else h(s)}})})})]})}function W(e){var t=e.userId,s=e.avatar,r=e.senderId,n=e.sender,i=e.message,c=e.time_locale,o=N()("chat-item",{"own-message":t===r});return Object(a.jsxs)("div",{className:o,children:[Object(a.jsx)("img",{className:"chat-avatar",alt:"Employee Avatar",src:s}),Object(a.jsxs)("div",{className:"chat-item-right",children:[Object(a.jsx)("div",{className:"chat-message-sender",children:n}),Object(a.jsx)("div",{className:"chat-message",children:i}),Object(a.jsx)("span",{className:"chat-message-time",children:c})]})]})}function H(e,t){return e.find((function(e){return e.id===t}))}function z(e){var t=e.userId,s=e.messages,n=e.chatInfo,i=e.getPrevMessages,c=e.teamUsers,d=Object(r.useState)(!1),l=Object(o.a)(d,2),u=l[0],b=l[1],j=Object(r.useState)(1),m=Object(o.a)(j,2),O=m[0],g=m[1],f=Object(r.useRef)(null),h=Object(r.useRef)(null),p=function(e){e[0].isIntersecting&&g((function(e){return e+1}))};Object(r.useEffect)((function(){var e=new IntersectionObserver(p,{root:null,rootMargin:"20px",threshold:1});f.current&&e.observe(f.current)}),[]),Object(r.useEffect)((function(){i()}),[O,i]),Object(r.useEffect)((function(){b(!0),setTimeout((function(){b(!1)}),2e3)}),[n]);var x=N()("chat-log-bottom",{expanded:u}),v=s.map((function(e,s){var r=e.sender,n=e.message,i=e.sender_id,o=e.time_iso,d=e.time_locale;return Object(a.jsx)(W,{userId:t,avatar:H(c,i).avatar,sender:r,senderId:i,message:n,time_locale:d},"".concat(i,": ").concat(o))}));return Object(a.jsxs)("div",{className:"chat-log",ref:h,children:[Object(a.jsx)("div",{className:"loading",ref:f}),v,Object(a.jsx)("div",{className:x,children:Object(a.jsx)("span",{className:"clat=info",children:n})})]})}function G(e){var t=e.name,s=e.role,r=e.avatar,n=e.online,i=N()("chat-avatar","members-list-avatar",{"avatar-online":n}),c=N()("members-list-item",{"member-item-online":n});return Object(a.jsxs)("div",{className:c,children:[Object(a.jsx)("img",{src:r,alt:"User Avatar",className:i}),Object(a.jsxs)("div",{className:"member-item-right",children:[Object(a.jsx)("div",{className:"member-item-name",children:t}),Object(a.jsx)("div",{className:"member-item-role",children:s})]})]})}var J=["Project Manager","Developer"];function K(e){var t=e.teamUsers,s=e.onlineUsers,r=t.map((function(e){var t=e.id,r=e.name,n=e.role,i=e.avatar;return Object(a.jsx)(G,{name:r,role:J[n-1],avatar:i,online:s.includes(t)},t)}));return Object(a.jsx)("div",{className:"members-list",children:r})}var Z=s(167);function V(e){var t=e.sendMessage,s=Object(r.useState)(""),n=Object(o.a)(s,2),i=n[0],c=n[1],d=function(e){e.preventDefault(),i&&(t(i),c(""))};return Object(a.jsx)("div",{className:"chat-input-box",children:Object(a.jsxs)("form",{autoComplete:"off",onSubmit:function(e){return d(e)},children:[Object(a.jsx)(Z.a,{className:"chat-input",name:"msg",type:"text",placeholder:"Your message",value:i,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&d(e)}}),Object(a.jsx)("button",{className:"chat-send",type:"submit",children:Object(a.jsx)("i",{className:"material-icons",children:"send"})})]})})}var q=s(164),Q=s.n(q);s(365);function X(e){var t=e.socket,s=e.userInfo,n=e.teamUsers,i=e.messages,c=function(e,t,s,a){var n=t.id,i=t.name,c=t.team_id,d=Object(r.useState)([]),l=Object(o.a)(d,2),u=l[0],b=l[1],j=Object(r.useState)(""),m=Object(o.a)(j,2),O=m[0],g=m[1];return Object(r.useEffect)((function(){return e.emit("joining msg",i,n,function(e){var t=e[e.length-1];return t?t.time_iso:0}(s)),e.on("user joined",(function(e,t,s){b(e),g(t+" joined the chat"),s.length&&a(s,!0)})),e.on("user left",(function(e,t){b(e),g(t+" left the chat")})),e.on("chat message",(function(e){a([e],!0)})),e.on("get previous messages",(function(e){a(e,!1)})),e.on("message saved",(function(e){})),function(){e.off("user joined"),e.off("user left"),e.off("chat message"),e.off("get previous messages"),e.off("message saved"),e.emit("leaving msg",i,n)}}),[]),{messages:s,joinMessage:O,onlineUsers:u,getPrevMessages:function(){s[0]&&e.emit("get previous messages",s[0].time_iso,12)},sendMessage:function(t){var s,a=new Date,r={message:t,team_id:c,sender_id:n,sender:i,time_iso:a.toISOString(),time_locale:(s=a,s.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})+" at "+s.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}))};e.emit("chat message",r)}}}(t,s,i,e.setMessages),d=c.joinMessage,l=c.onlineUsers,u=c.getPrevMessages,b=c.sendMessage;return Object(a.jsxs)("div",{className:"chat-container",children:[Object(a.jsxs)("div",{className:"chat-left",children:[Object(a.jsx)(Q.a,{className:"chat-log-container",children:Object(a.jsx)(z,{userId:s.id,messages:i,chatInfo:d,getPrevMessages:u,teamUsers:n})}),Object(a.jsx)(V,{sendMessage:b})]}),Object(a.jsx)(K,{teamUsers:n,onlineUsers:l})]})}function $(e,t){var s,a="",r=Object(u.a)(e);try{for(r.s();!(s=r.n()).done;){var n=s.value;n.id===t&&(a=n.name)}}catch(i){r.e(i)}finally{r.f()}return a}function ee(e){var t=e.teamUsers,s=e.selectedTask,n=e.show,i=e.setShow,d=e.giveFeedback,l=e.setUserNotification,u=e.user,b=s.title,j=s.description,m=s.employee_id,O=s.creation_date,g=s.due_date,f=s.is_late,h=Object(r.useState)({message:""}),p=Object(o.a)(h,2),x=p[0],v=p[1],k=function(e){""!==x.message?(d(x.message,s,e),v((function(e){return Object(c.a)(Object(c.a)({},e),{},{message:""})})),i(!1)):l((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"Error",message:"Please enter a feedback",type:"error",user:u.id})}))};return Object(a.jsx)("div",{className:"feedback-container",children:Object(a.jsxs)(I.a,{show:n,onHide:function(){i(!1)},children:[Object(a.jsx)(I.a.Header,{closeButton:!0,children:Object(a.jsx)(I.a.Title,{children:b})}),Object(a.jsxs)("form",{className:"form-group",onSubmit:function(e){return e.preventDefault()},children:[Object(a.jsxs)(I.a.Body,{children:[Object(a.jsx)("p",{children:j}),Object(a.jsxs)("p",{children:["Assigned to: ",$(t,m)]}),Object(a.jsxs)("p",{children:["On: ",Object(a.jsx)(T.a,{format:"Do MMM YYYY h:mm A",children:O})]}),Object(a.jsxs)("p",{children:["Due on: ",Object(a.jsx)(T.a,{format:"Do MMM YYYY h:mm A",children:g}),f&&Object(a.jsx)("span",{className:"badge badge-danger",children:"LATE"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Feedback:"}),Object(a.jsx)("textarea",{name:"feedback",className:"form-control",value:x.message,onChange:function(e){return v((function(t){return Object(c.a)(Object(c.a)({},t),{},{message:e.target.value})}))}})]})]}),Object(a.jsxs)(I.a.Footer,{children:[Object(a.jsx)(_.a,{variant:"danger",onClick:function(e){return k(!1)},children:"Reject"}),Object(a.jsx)(_.a,{variant:"success",onClick:function(e){return k(!0)},children:"Accept"})]})]})]})})}function te(e){var t=e.title,s=e.name,r=e.description,n=e.is_late,i=e.taskData,c=e.setSelectedTask,o=e.setShow;return Object(a.jsxs)("div",{className:"submission-card-item",onClick:function(e){return c(i),void o(!0)},children:[Object(a.jsx)("h5",{children:t}),Object(a.jsx)("p",{className:"submission-card-name'",children:s}),Object(a.jsx)("p",{className:"submission-card-description",children:r}),n&&Object(a.jsx)("span",{className:"badge badge-danger submission-badge",children:"LATE"}),Object(a.jsxs)("div",{className:"submission-card-item-dates",children:[Object(a.jsxs)("div",{className:"card-date",children:[Object(a.jsx)("label",{children:"On: "}),Object(a.jsx)(T.a,{name:"creation_date",format:"Do MMM YYYY h:mm A",children:i.creation_date})]}),Object(a.jsxs)("div",{className:"card-date",children:[Object(a.jsx)("label",{children:"Due:"}),Object(a.jsx)(T.a,{name:"due_date",format:"Do MMM YYYY h:mm A",children:i.due_date})]})]}),Object(a.jsx)("div",{className:"submission-card-item-badge-container",children:Object(a.jsxs)("div",{className:"submission-card-item-badge",children:[0===i.status&&Object(a.jsx)("i",{className:"fas fa-people-arrows"}),1===i.status&&Object(a.jsx)("i",{className:"fas fa-spinner"})]})})]})}function se(e){var t=e.teamUsers,s=e.teamTasks,r=e.setSelectedTask,n=e.setShow,i=s.map((function(e){return 2===e.status&&Object(a.jsx)(te,{title:e.title,description:e.description,name:$(t,e.employee_id),is_late:e.is_late,is_viewed:e.is_viewed,taskData:e,setSelectedTask:r,setShow:n},e.id)}));return Object(a.jsx)("div",{className:"submissions-list",children:i})}s(366);function ae(e){var t=e.teamUsers,s=e.teamTasks,n=e.giveFeedback,i=e.setUserNotification,c=e.user,d=Object(r.useState)({}),l=Object(o.a)(d,2),u=l[0],b=l[1],j=Object(r.useState)(!1),m=Object(o.a)(j,2),O=m[0],g=m[1];return Object(a.jsxs)("div",{className:"submissions-container",children:[Object(a.jsx)("h1",{children:"Submitted Tasks"}),Object(a.jsx)("div",{className:"submissions",children:Object(a.jsx)(se,{teamUsers:t,teamTasks:s,setSelectedTask:b,setShow:g})}),Object(a.jsx)("div",{children:Object(a.jsx)(ee,{teamUsers:t,selectedTask:u,show:O,setShow:g,giveFeedback:n,setUserNotification:i,user:c})})]})}s(367);function re(e){var t=N()("sidebar-list__item",{"sidebar-list__item--selected":e.selected});return Object(a.jsx)("li",{className:t,onClick:function(){return e.setMenu(e.name)},children:Object(a.jsx)("h3",{children:e.name})})}function ne(e){var t=new Date;t.setDate(t.getDate()+7),t.setHours(17),t.setMinutes(0);var s=e.team,n=e.teamUsers,i=e.createTaskItem,d=e.setErrorNotification,l=Object(r.useState)({projecttask_id:s,title:"",description:"",employee_id:"",due_date:t}),u=Object(o.a)(l,2),b=u[0],j=u[1],m=Object(r.useState)(!1),O=Object(o.a)(m,2),g=O[0],f=O[1],h=n.filter((function(e){return 1!==e.role}));function p(){var e=b.title,t=b.description,s=b.employee_id,a=b.due_date;return""===e?(d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"Error",message:"Title must be valid"})})),void document.getElementById("new-task-title").focus()):""===t?(d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"Error",message:"Description must be valid"})})),void document.getElementById("new-task-description").focus()):""===s?(d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"Error",message:"Employee assigned must be valid"})})),void document.getElementById("new-task-assign").focus()):a<new Date?(d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"Error",message:"Due date cannot be in the past"})})),void document.getElementById("new-task-date").focus()):(i(b),j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",description:"",employee_id:""})})),void f(!1))}return Object(a.jsxs)("div",{className:"create-task",children:[Object(a.jsx)("span",{}),Object(a.jsx)("span",{}),Object(a.jsx)("p",{onClick:function(){return f(!0)},children:"Create New Task"}),Object(a.jsx)("form",{className:"form-group",onSubmit:function(e){return e.preventDefault()},children:Object(a.jsxs)(I.a,{show:g,onHide:function(){return f(!1)},onEntered:function(){return document.getElementById("new-task-title").focus()},children:[Object(a.jsx)(I.a.Header,{closeButton:!0,children:Object(a.jsx)(I.a.Title,{children:Object(a.jsx)("h3",{children:"New Task"})})}),Object(a.jsxs)(I.a.Body,{children:[Object(a.jsx)("label",{children:"Title: "}),Object(a.jsx)("input",{id:"new-task-title",name:"title",className:"form-control",value:b.title,onChange:function(e){return j((function(t){return Object(c.a)(Object(c.a)({},t),{},{title:e.target.value})}))}}),Object(a.jsx)("label",{children:"Description: "}),Object(a.jsx)("textarea",{id:"new-task-description",name:"description",className:"form-control",value:b.description,onChange:function(e){return j((function(t){return Object(c.a)(Object(c.a)({},t),{},{description:e.target.value})}))}}),Object(a.jsx)("label",{children:"Assign to: "}),Object(a.jsxs)("select",{className:"form-control",id:"new-task-assign",onChange:function(e){return j((function(t){return Object(c.a)(Object(c.a)({},t),{},{employee_id:Number(e.target.value)})}))},children:[Object(a.jsx)("option",{defaultValue:""},void 0),h.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Due on: "}),Object(a.jsx)(C.a,{id:"new-task-date",className:"form-control",selected:new Date(b.due_date),showTimeInput:!0,onChange:function(e){return j((function(t){return Object(c.a)(Object(c.a)({},t),{},{due_date:e})}))},dateFormat:"MMMM d, yyyy h:mm aa"})]}),Object(a.jsx)(I.a.Footer,{children:Object(a.jsx)(_.a,{variant:"primary",onClick:function(e){return p()},children:"Submit"})})]})})]})}function ie(e){var t=e.selectedMenu,s=e.userInfo,r=e.teamUsers,n=e.setMenu,i=e.createTaskItem,c=e.error,o=e.setErrorNotification,d=1===s.role?["Dashboard","Tasks","Chat","Submissions"]:["Dashboard","Tasks","Chat"];return Object(a.jsxs)("ul",{children:[d.map((function(e,s){return Object(a.jsx)(re,{name:e,selected:t===e,setMenu:n},s)})),1===s.role&&Object(a.jsx)("div",{children:Object(a.jsx)(ne,{team:s.team_id,teamUsers:r,createTaskItem:i,error:c,setErrorNotification:o})},4)]})}var ce=s(165),oe=s.n(ce);s(368);function de(e){var t=e.due_date,s=e.creation_date,r=e.assignedTo,n=e.userInfo,i=e.teamUsers,c=e.is_late,o=e.status;return Object(a.jsxs)("div",{className:"deadline-card-".concat(0===o?"assigned":"inprogress"),children:[Object(a.jsx)("h5",{children:e.title}),1===n.role&&Object(a.jsx)("p",{children:$(i,r)}),Object(a.jsxs)("div",{className:"card-date",children:[Object(a.jsx)("label",{children:"On: "}),Object(a.jsx)(T.a,{name:"creation_date",format:"Do MMM YYYY h:mm A",children:s})]}),Object(a.jsxs)("div",{className:"card-date",children:[Object(a.jsx)("label",{children:"Due:"}),Object(a.jsx)(T.a,{name:"due_date",format:"Do MMM YYYY h:mm A",children:t})]}),Object(a.jsx)("div",{className:"deadline-card-badge-container-".concat(0===o?"assigned":"inprogress"),children:Object(a.jsxs)("div",{className:"deadline-card-badge",children:[0===o&&Object(a.jsx)("i",{className:"fas fa-people-arrows"}),1===o&&Object(a.jsx)("i",{className:"fas fa-spinner"})]})}),c&&Object(a.jsx)("span",{className:"badge badge-danger",children:"LATE"})]})}function le(e){var t=e.deadlines,s=e.userInfo,r=e.teamUsers,n=t.filter((function(e){return e.employee_id===s.id})).map((function(e){return Object(a.jsx)(de,{title:e.title,description:e.description,due_date:e.due_date,creation_date:e.creation_date,userInfo:s,assignedTo:e.employee_id,is_late:e.is_late,teamUsers:r,status:e.status},e.id)})),i=t.map((function(e){return Object(a.jsx)(de,{title:e.title,description:e.description,due_date:e.due_date,creation_date:e.creation_date,userInfo:s,assignedTo:e.employee_id,is_late:e.is_late,teamUsers:r,status:e.status},e.id)}));return Object(a.jsx)("ul",{className:"deadline-ul",children:1===s.role?i:n})}function ue(e){var t=(new Date).getTime();return e.filter((function(e){return s=e.due_date,new Date(s).getTime()<t&&(0===e.status||1===e.status);var s}))}var be={1:"Project Manager",2:"Employee"};function je(e){var t=e.userInfo,s=e.tasks,n=e.teamUsers,i=e.transparent,c=e.selectedMenu,d=ue(s),l=Object(r.useState)(!1),u=Object(o.a)(l,2),b=u[0],j=u[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"user-info-transparent-".concat(i).concat(b&&"Tasks"===c?" change":""),id:"user-panel-wings",children:t&&Object(a.jsxs)(a.Fragment,{children:[1===t.role&&!0===i&&"Tasks"===c&&Object(a.jsx)("span",{className:"user-filter-btn",onClick:function(e){return t=b,document.getElementById("team-list-filter").classList.toggle("change"),j(!t);var t},children:Object(a.jsx)("i",{className:"fas fa-filter fa-2x"})}),Object(a.jsx)("img",{alt:t.name,src:t.avatar,className:"user-avatar"}),Object(a.jsxs)("h5",{children:["Welcome, ",t.name]}),Object(a.jsx)("h6",{children:be[t.role]}),Object(a.jsx)("p",{children:"Past Due"}),Object(a.jsx)("div",{className:"deadlines",children:Object(a.jsx)(le,{deadlines:d,userInfo:t,teamUsers:n})}),Object(a.jsxs)("div",{className:"socials",children:[Object(a.jsx)("span",{children:Object(a.jsxs)("a",{href:"https://github.com/clarchiu",target:"_blank",rel:"noreferrer",children:[Object(a.jsx)("i",{className:"fab fa-github"}),Object(a.jsx)("p",{children:"Clarence"})]})}),Object(a.jsx)("span",{children:Object(a.jsxs)("a",{href:"https://github.com/Kevinli296",target:"_blank",rel:"noreferrer",children:[Object(a.jsx)("i",{className:"fab fa-github"}),Object(a.jsx)("p",{children:"Kevin"})]})}),Object(a.jsx)("span",{children:Object(a.jsxs)("a",{href:"https://github.com/shaun-ws-yap",target:"_blank",rel:"noreferrer",children:[Object(a.jsx)("i",{className:"fab fa-github"}),Object(a.jsx)("p",{children:"Shaun"})]})})]})]})})})}s(369);function me(e){var t=e.userInfo,s=e.tasks,n=e.teamUsers,i=e.selectedMenu,c=Object(r.useState)(!1),d=Object(o.a)(c,2),l=d[0],u=d[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"open-user-panel",id:"user-hamburger",onClick:function(e){return t=l,document.getElementById("user-hamburger").classList.toggle("change"),u(!t);var t},children:[Object(a.jsx)("div",{className:"bar1"}),Object(a.jsx)("div",{className:"bar2"}),Object(a.jsx)("div",{className:"bar3"})]}),Object(a.jsx)("div",{className:"user-panel",children:Object(a.jsx)(je,{userInfo:t,tasks:s,teamUsers:n,transparent:!0,selectedMenu:i})}),Object(a.jsx)("div",{className:"hidden-user-panel",children:Object(a.jsx)(oe.a,{type:"right",isOpen:l,size:30,children:Object(a.jsx)(je,{userInfo:t,tasks:s,teamUsers:n,transparent:!1,selectedMenu:i})})})]})})}s(370);function Oe(e){var t=e.setLogin,s=Object(r.useState)(0),n=Object(o.a)(s,2),i=n[0],c=n[1];return Object(a.jsx)("div",{className:"login-container",children:Object(a.jsxs)("ul",{className:"box-area",children:[Object(a.jsx)("li",{}),Object(a.jsx)("li",{}),Object(a.jsx)("li",{}),Object(a.jsx)("li",{}),Object(a.jsx)("li",{}),Object(a.jsx)("li",{}),Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("h1",{children:"Enter your user ID "}),Object(a.jsx)("input",{onChange:function(e){return c(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{className:"login-button",onClick:function(){t(i)},children:["Submit",Object(a.jsx)("span",{}),Object(a.jsx)("span",{}),Object(a.jsx)("span",{}),Object(a.jsx)("span",{})]}),Object(a.jsxs)("div",{className:"login-info",children:[Object(a.jsxs)("p",{children:["User ID ",Object(a.jsx)("strong",{children:"1"})," - manager view"]}),Object(a.jsxs)("p",{children:["User ID ",Object(a.jsx)("strong",{children:"2 to 5"})," - employee view"]})]})]})]})})}var ge=s(166);var fe="Dashboard";var he=function(){var e=Object(r.useState)(fe),t=Object(o.a)(e,2),s=t[0],n=t[1],i=Object(r.useState)(0),l=Object(o.a)(i,2),u=l[0],b=l[1],j=Object(r.useState)({title:"",message:""}),m=Object(o.a)(j,2),O=m[0],g=m[1],f=function(e){var t=Object(r.useState)({}),s=Object(o.a)(t,2),a=s[0],n=s[1];return Object(r.useEffect)((function(){if(e){var t=Object(ge.io)();return n(t),function(){t.close()}}}),[e]),{socket:a}}(u).socket,h=function(e,t,s){var a=Object(r.useState)({userInfo:{},role:0,userTasks:[],teamUsers:[],teamTasks:[],submissions:[],messages:[]}),n=Object(o.a)(a,2),i=n[0],d=n[1];return Object(r.useEffect)((function(){if(t&&e)return e.emit("user logged in",t),e.on("login data",(function(e){console.log(e);var t=e.userTasks,s=e.userInfo,a=e.teamTasks,r=e.teamUsers,n=e.submissions;d((function(e){return Object(c.a)(Object(c.a)({},e),{},{userTasks:t,userInfo:s,teamTasks:a,teamUsers:r,submissions:n,role:s.role})}))})),e.on("error",(function(e,t){s((function(s){return Object(c.a)(Object(c.a)({},s),{},{title:t.title,message:e})}))})),function(){t||(e.off("login data"),e.off("error"))}}),[e,s]),{state:i,logout:function(){return d({userInfo:{},role:0,userTasks:[],teamUsers:[],teamTasks:[],submissions:[],messages:[]})},setTasks:function(e){var s=L(t,e);d((function(t){return Object(c.a)(Object(c.a)({},t),{},{teamTasks:e,userTasks:s})}))},setSubmissions:function(e){return d((function(t){return Object(c.a)(Object(c.a)({},t),{},{submissions:e})}))},setMessages:function(e,t){return d((function(s){return t?Object(c.a)(Object(c.a)({},s),{},{messages:[].concat(Object(U.a)(s.messages),Object(U.a)(e))}):Object(c.a)(Object(c.a)({},s),{},{messages:[].concat(Object(U.a)(e),Object(U.a)(s.messages))})}))}}}(f,u,g),p=h.state,v=h.logout,k=h.setTasks,N=h.setSubmissions,y=h.setMessages,T=p.userTasks,I=p.userInfo,_=p.role,w=p.teamTasks,C=p.teamUsers,M=p.submissions,S=p.messages,E=function(e,t,s){var a=Object(r.useState)({title:"",message:"",type:"",user:""}),n=Object(o.a)(a,2),i=n[0],d=n[1],l=Object(r.useState)({title:"",message:"",type:"",user:""}),u=Object(o.a)(l,2),b=u[0],j=u[1];return Object(r.useEffect)((function(){if(""!==i.message&&i.user===e.id){switch(i.type){case"info":j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})})),s.info(i.message,i.title,5e3,(function(){t("Tasks")})),d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})}));break;case"success":j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})})),s.success(i.message,i.title),d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})}));break;case"warning":j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})})),s.warning(i.message,i.title,5e3,(function(){t("Tasks")})),d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})}));break;case"error":j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})})),s.error(i.message,i.title),d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})}))}j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})})),d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})}))}if(""!==b.message&&b.user===e.id){switch(b.type){case"info":d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})})),s.info(b.message,b.title),j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})}));break;case"success":d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})})),s.success(b.message,b.title),j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})}));break;case"warning":d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})})),s.warning(b.message,b.title),j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})}));break;case"error":d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})})),s.error(b.message,b.title),j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})}))}d((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})})),j((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:"",type:"",user:""})}))}}),[i,b]),{userNotification:i,managerNotification:b,setUserNotification:d,setManagerNotification:j}}(I,n,d.NotificationManager),D=E.setUserNotification,B=E.setManagerNotification,Y=function(e,t,s,a,n,i,o,d){var l=2;return Object(r.useEffect)((function(){if(e&&t)return t.on("tasks update",(function(e,t){a(e),i((function(e){return Object(c.a)(Object(c.a)({},e),{},{message:"Your tasks have updated",user:t,title:"Click to view",type:"warning"})}))})),t.on("tasks action saved",(function(t,s){switch(t){case"CREATE":o((function(t){return Object(c.a)(Object(c.a)({},t),{},{message:s.title,title:"Task Created",type:"success",user:Number(e)})}));break;case"EDIT":o((function(t){return Object(c.a)(Object(c.a)({},t),{},{message:s.title,title:"Task Updated",type:"success",user:Number(e)})}));break;case"DELETE":o((function(t){return Object(c.a)(Object(c.a)({},t),{},{message:s.title,title:"Task Deleted",type:"success",user:Number(e)})}));break;case"FEEDBACK":o((function(t){return Object(c.a)(Object(c.a)({},t),{},{message:"Submission Updated",title:"Feedback Sent",type:"success",user:Number(e)})}));break;case"MOVE":i((function(t){return Object(c.a)(Object(c.a)({},t),{},{message:s.title,user:Number(e),title:"Task Moved",type:"success"})}));break;default:return}})),t.on("submt/feedback",(function(e,t){i((function(e){return Object(c.a)(Object(c.a)({},e),{},{message:"You have task updates",user:t,title:"Submission Updated",type:"info"})})),a(e.teamTasks),n(e.submissions)})),function(){t.off("tasks update"),t.off("tasks action saved"),t.off("submit/feedback")}}),[t]),{moveTask:function(e,s){t.emit("move task",e,s)},createTaskItem:function(e){t.emit("tasks update",e,"CREATE")},editTaskItem:function(e){t.emit("tasks update",e,"EDIT")},deleteTaskItem:function(e){t.emit("tasks update",e,"DELETE")},submitTaskItem:function(e){var s=Object(c.a)(Object(c.a)({},e),{},{status:l}),a={submission:{feedback_string:"",submission_date:(new Date).toISOString(),task_id:e.id},taskItem:s};t.emit("employee submit",a,1)},giveFeedback:function(e,a,r){var n=function(e,t){return e.find((function(e){return e.task_id===t&&"pending"===e.status}))}(s,a.id),i=Object(c.a)(Object(c.a)({},n),{},{feedback_string:e,status:r?"accepted":"rejected"}),o=Object(c.a)(Object(c.a)({},a),{},{status:r?3:1});t.emit("feedback",{feedback:i,taskItem:o},o.employee_id)}}}(u,f,M,k,N,D,B),A=Y.moveTask,P=Y.createTaskItem,F=Y.editTaskItem,W=Y.deleteTaskItem,H=Y.submitTaskItem,z=Y.giveFeedback;return Object(r.useEffect)((function(){""!==O.message&&(d.NotificationManager.error(O.title,O.message),g((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",message:""})})))}),[O]),0===u?Object(a.jsx)(Oe,{setLogin:b}):Object(a.jsxs)("div",{className:"app-container",children:[Object(a.jsx)(d.NotificationContainer,{}),Object(a.jsxs)("section",{className:"sidebar",children:[Object(a.jsx)("img",{alt:"Scrum-ptious Logo",className:"sidebar-centered",src:"https://www.freelogodesign.org/file/app/client/thumb/fb19eb8b-21e7-4a5b-9695-a099867ef5e5_200x200.png?1611814732064"}),Object(a.jsx)("nav",{className:"sidebar__menu",children:Object(a.jsx)(ie,{selectedMenu:s,userInfo:I,teamUsers:C,setMenu:n,createTaskItem:P,errorNotification:O,setErrorNotification:g})}),Object(a.jsxs)("span",{className:"logout",onClick:function(){return v(),B({message:"",title:"",type:"",user:void 0}),D({message:"",user:void 0,title:"",type:""}),b(0),void n(fe)},children:[Object(a.jsx)("p",{children:"Log out"}),Object(a.jsx)("span",{}),Object(a.jsx)("span",{}),Object(a.jsx)("span",{}),Object(a.jsx)("span",{})]})]}),Object(a.jsxs)("section",{className:"dashboard-main",children:[s===fe&&Object(a.jsx)(x,{tasks:T,role:_,teamTasks:w,teamUsers:C,userInfo:I}),"Tasks"===s&&Object(a.jsx)(R,{socket:f,role:_,tasks:1===_?w:T,teamUsers:C,submissions:M,deleteTaskItem:W,editTaskItem:F,submitTaskItem:H,setErrorNotification:g,moveTask:A,setTasks:k}),"Chat"===s&&Object(a.jsx)(X,{socket:f,userInfo:I,teamUsers:C,messages:S,setMessages:y}),"Submissions"===s&&Object(a.jsx)(ae,{teamUsers:C,teamTasks:w,giveFeedback:z,setUserNotification:D,user:I})]}),Object(a.jsx)("section",{className:"user__info",children:Object(a.jsx)(me,{userInfo:I,tasks:w,teamUsers:C,selectedMenu:s})})]})};i.a.render(Object(a.jsx)(he,{}),document.getElementById("root"))}},[[400,1,2]]]);
//# sourceMappingURL=main.34b42850.chunk.js.map